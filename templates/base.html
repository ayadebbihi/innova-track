<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>{{ title if title else "Innovation Tracker" }}</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Main CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

</head>
<body class="light-mode">

<!-- HEADER -->
<header class="site-header shadow-sm glass-header">
    <div class="container d-flex justify-content-between align-items-center py-2">

        <div class="logo-area d-flex align-items-center">
            <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo"  class="logo">
            <span class="logo-text ms-2">Innovation Tracker</span>
        </div>

        <nav class="nav-menu d-flex gap-3">
            <a class="nav-link" href="/auth">Home</a>
            <a class="nav-link" href="/ideas">Ideas</a>

            {% if session.get("role") == "admin" %}
                <a class="nav-link" href="/admin_dashboard">Admin</a>
            {% endif %}

            {% if session.get("user_id") %}
                <a class="nav-link logout-btn" href="/logout">Logout</a>
            {% else %}
                <a class="nav-link" href="/login">Login</a>
            {% endif %}
           

        </nav>

        <button id="darkToggle" class="dark-btn">ğŸŒ™</button>

    </div>
</header>


<!-- MAIN CONTENT -->
<main class="container mt-4 fade-in">
    {% block content %}{% endblock %}
</main>

<!-- FOOTER -->
<footer class="site-footer mt-5">
    <p>Â© 2025 Innovation Tracker â€” All Rights Reserved.</p>
   <p>Created by Aya Debbihi.</p>
</footer>

<script>
// Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© â€” Ø§Ù‚Ø±Ø£ Ø§Ù„ÙˆØ¶Ø¹ Ù…Ù† localStorage
if (localStorage.getItem("theme") === "dark") {
    document.body.classList.add("dark-mode");
}

// Ø²Ø± Ø§Ù„ØªØ¨Ø¯ÙŠÙ„
document.getElementById("darkToggle").addEventListener("click", function() {

    document.body.classList.toggle("dark-mode");

    // Ø¥Ø°Ø§ Ø£ØµØ¨Ø­ Ø§Ù„ÙˆØ¶Ø¹ Ø¯Ø§ÙƒÙ† â†’ Ø®Ø²Ù† "dark"
    if (document.body.classList.contains("dark-mode")) {
        localStorage.setItem("theme", "dark");
    } 
    else {
        localStorage.setItem("theme", "light");
    }
});
</script>


</body>
</html>
